#include "solvespace.h"

#include "harness.h"

TEST_CASE(normal_roundtrip) {
    CHECK_LOAD("normal.slvs");
    CHECK_RENDER("normal.png");
    CHECK_SAVE("normal.slvs");
}

TEST_CASE(normal_migrate_from_v20) {
    CHECK_LOAD("normal_v20.slvs");
    CHECK_SAVE("normal.slvs");
}

TEST_CASE(normal_migrate_from_v22) {
    CHECK_LOAD("normal_v22.slvs");
    CHECK_SAVE("normal.slvs");
}

TEST_CASE(negative_dia) {
    CHECK_LOAD("negative_dia.slvs");
    Entity *e = SK.GetEntity(hRequest { 4 }.entity(0));
    CHECK_TRUE(e->CircleGetRadiusNum() > 0);
}
